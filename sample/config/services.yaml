parameters:
    locale: 'en'

services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    # Controller

    App\Controller\:
        resource: '../src/Controller'
        tags: [ controller.service_arguments ]

    # Doctrine

    App\Doctrine\Orm\:
        resource: '../src/Doctrine/Orm'

    App\Doctrine\DataFixtures\:
        resource: '../src/Doctrine/DataFixtures'
        tags: [ doctrine.fixture.orm ]

    # Application

    App\Application\Service\:
        resource: '../src/Application/Service'

    App\Application\Dto\Assembler: ~

    # Domain

    App\Domain\Model\AuthorRepository: '@App\Doctrine\Orm\AuthorRepository'
    App\Domain\Model\BookRepository:   '@App\Doctrine\Orm\BookRepository'

    App\Domain\Model\IdGenerator:
        class: App\RamseyUuid\UuidIdGenerator
